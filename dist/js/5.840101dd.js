(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"2Vua":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r});var i=n("Zt8a"),a=function(t,e){var n=new URLSearchParams;for(var a in n.append("pageNum",t),e)e[a]&&n.append(a,e[a]);return i["a"].request({url:"workerSalary/getPageListOfWorker",data:n,method:"post"})},r=function(t,e){var n=new URLSearchParams;for(var a in n.append("pageNum",t),e)e[a]&&n.append(a,e[a]);return i["a"].request({url:"worker/getPageList",data:n,method:"post"})}},"2goY":function(t,e,n){"use strict";function i(t){return Object.prototype.toString.call(t).slice(8,-1)}function a(t){let e=[];function n(t){if(t&&"Object"===i(t)){if(-1!==e.indexOf(t))return!0;for(var a in e.push(t),t)if(!0===t.hasOwnProperty(a)&&n(t[a]))return!0}return!1}return n(t)}const r=function(t){if(null===t||void 0===t)return;const e=i(t);if("Date"===e){let e=new Date;return e.setTime(t.getTime()),e}if("Object"===e){if(!0===a(t))return t;let e={};for(let n in t)e[n]=r(t[n]);return e}if("Array"===e){let e=[];for(var n=0;n<t.length;n++)e.push(r(t[n]));return e}return t};t.exports=r},E9X9:function(t,e,n){"use strict";var i=n("lsdc"),a=n.n(i);a.a},G2oy:function(t,e,n){},MTCC:function(t,e,n){},NBpB:function(t,e,n){},Niiq:function(t,e,n){},O8En:function(t,e,n){"use strict";var i=n("MTCC"),a=n.n(i);a.a},SYtW:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.rePic,function(e,i){return n("div",{staticClass:"imgClass"},[n("img",{staticClass:"imgClass-img",attrs:{src:e},on:{click:function(n){t.clickImg(e)}}}),t._v(" "),t.cancelShow?n("span",{staticClass:"imgClass-close",on:{click:function(e){t.closeClick(i)}}},[t._v("x")]):t._e()])}),t._v(" "),n("Modal",{attrs:{title:"图片"},on:{"on-cancel":t.cancel},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("img",{staticStyle:{width:"100%",height:"350px","list-style":"none",padding:"0",margin:"5px 0"},attrs:{src:t.imgUrl}})])],2)},a=[],r=(n("jbew"),{data:function(){return{imgUrl:"",modal:!1}},props:{rePic:{type:Array,default:function(){return[]}},cancelShow:{type:Boolean,default:!0}},methods:{clickImg:function(t){this.modal=!0,this.imgUrl=t},cancel:function(){},closeClick:function(t){this.$emit("closeClick",t)}}}),o=r,l=(n("ukxX"),n("KHd+")),s=Object(l["a"])(o,i,a,!1,null,null,null),c=s.exports;e["a"]=c},UNsD:function(t,e,n){"use strict";var i=n("Niiq"),a=n.n(i);a.a},ajWJ:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.stateSelect?n("div",{staticStyle:{display:"inline-block","margin-bottom":"10px","vertical-align":"top"}},[t.selectShow?n("div",{staticStyle:{display:"inline-block"}},[n("Input",{staticStyle:{width:"300px"},model:{value:t.selectValueInput,callback:function(e){t.selectValueInput=e},expression:"selectValueInput"}},[n("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",clearable:""},on:{"on-clear":t.clickEmpty,"on-change":t.onValue},slot:"prepend",model:{value:t.modelSelect,callback:function(e){t.modelSelect=e},expression:"modelSelect"}},t._l(t.selectOption,function(e){return n("Option",{key:e.value,attrs:{disabled:"-1"===e.value,value:e.value}},[t._v(t._s(e.label))])})),t._v(" "),n("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:t.update},slot:"append"})],1)],1):t._e(),t._v(" "),n("div",{staticStyle:{display:"inline-block"}},[t._t("customSelect")],2),t._v(" "),n("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[t._t("default")],2)]):t._e(),t._v(" "),n("Table",{ref:"selection",attrs:{stripe:"",columns:t.processingLolumns,data:t.value,loading:t.progress},on:{"on-selection-change":t.selectionChange}}),t._v(" "),t._t("statistics"),t._v(" "),n("Page",{staticStyle:{"margin-top":"20px"},attrs:{total:10*t.pageTotal,"show-elevator":""},on:{"on-change":t.emitPage,"on-page-size-change":t.emitPage}})],2)},a=[],r=n("2goY"),o=n.n(r),l={data:function(){return{editableId:"",processingLolumns:[],inputValue:"",selectValueInput:"",modelSelect:"",progress:!1}},props:{columns:{type:Array,default:function(){return[]}},width:{default:"100%"},value:{type:Array,default:function(){return[]}},selectOption:{type:Array,default:function(){return[]}},stateSelect:{type:Boolean,default:!0},pageTotal:{default:"1"},selectShow:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!1},selectSatae:{type:String,default:""}},methods:{handleClick:function(t){t.row;var e=t.column,n=t.index;if("".concat(e.key,"_").concat(n)===this.editableId){var i=o()(this.value);i[n][e.key]=this.inputValue,this.inputValue&&this.$emit("input",i),this.editableId="",this.inputValue=""}else this.editableId="".concat(e.key,"_").concat(n)},handleInput:function(t){this.inputValue=t},compileInit:function(){var t=this,e=(this.$createElement,this.columns.map(function(e){return e.editable&&!e.render?(e.render=function(e,n){var i=n.row,a=n.column,r=n.index,o=t.editableId==="".concat(a.key,"_").concat(r);return e("div",[o?e("i-input",{on:{input:t.handleInput},attrs:{value:i[a.key]},style:"width: 50px"}):e("span",[i[a.key]]),e("i-button",{on:{click:t.handleClick.bind(t,{row:i,column:a,index:r})}},[o?"保存":"编辑"])])},e):e}));this.processingLolumns=e},clickEmpty:function(){var t={selectValueInput:"",modelSelect:""};this.$emit("filtrateClick",t)},selectEmpty:function(){this.selectValueInput="",this.modelSelect=""},onValue:function(t){this.selectValueInput="",this.$emit("onChange",t)},update:function(t){var e={};e.selectValueInput=this.selectValueInput?this.selectValueInput:"",e.modelSelect=this.modelSelect?this.modelSelect:"",this.modelSelect?this.$emit("filtrateClick",e):this.$Message.error("请输入要搜索的字段")},emitPage:function(t){this.$emit("getPage",t)},selectionChange:function(t){this.$emit("selectionChange",t)}},mounted:function(){this.compileInit()},watch:{isLoading:function(t){this.progress=t},selectSatae:function(){this.selectEmpty()}}},s=l,c=(n("E9X9"),n("KHd+")),u=Object(c["a"])(s,i,a,!1,null,null,null);e["a"]=u.exports},ggpE:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"inline-block"}},[n("div",{attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"mt15"},[n("div",{staticClass:"upload-container",attrs:{id:"container"}},[n("div",{staticClass:"upload-pickfiles",attrs:{id:"pickfiles"}},[n("Button",{attrs:{type:t.typeCustom,id:"pickfiles2"+t.uid,size:t.size,loading:t.uploading}},[t._t("default")],2)],1)])])])])},a=[],r=(n("f3/d"),n("VRzm"),n("f4Ay")),o=n("8SHQ"),l=o["a"].baseUrl.qiniuUrl,s=new r["a"](l),c=s,u=function(){return c.request({url:"admin/getQiNiuToken",method:"post"})},d={data:function(){return{uploading:!1,uptokenKey:"",currentFileOldName:"",uid:this._uid}},mounted:function(){var t=this;u().then(function(e){t.uptokenKey=e.info,t.$nextTick(function(){t.qiniu()})}).catch(function(t){console.log(t)})},props:{size:{type:String,default:"small"},typeCustom:{type:String,default:"success"}},methods:{qiniu:function(){var t=this;Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"pickfiles2"+this.uid,uptoken:t.uptokenKey,domain:"http://qiniu.dnwapp.com/",container:"container",max_file_size:"100mb",flash_swf_url:"plupload/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:"container",chunk_size:"4mb",auto_start:!0,init:{UploadProgress:function(e,n){t.uploading=!0},FileUploaded:function(e,n,i){var a=JSON.parse(i),r=e.getOption("domain")+a.key;t.$emit("updateImg",r),t.uploading=!1},Error:function(e,n,i){t.uploading=!1,t.$Message.error("上传失败，请联系管理员")},Key:function(e,n){t.currentFileOldName=n.name;var i=n.name.lastIndexOf("."),a=n.name.substr(i+1),r=(new Date).getTime()+"."+a;return r}}})}}},p=d,m=(n("O8En"),n("KHd+")),f=Object(m["a"])(p,i,a,!1,null,null,null),h=f.exports;e["a"]=h},iPs9:function(t,e,n){"use strict";var i=n("G2oy"),a=n.n(i);a.a},jbew:function(t,e,n){},lsdc:function(t,e,n){},"p+ls":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Cascader",{staticStyle:{width:"200px",display:"inline-block","z-index":"9999"},attrs:{data:t.data,"load-data":t.loadData},on:{"on-change":t.getSiteDate},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},a=[],r=(n("f3/d"),n("Zt8a")),o=function(){return r["a"].request({url:"getProvinceList",method:"post"})},l=function(t){var e=new URLSearchParams;return e.append("provinceId",t),r["a"].request({url:"getCityList",data:e,method:"post"})},s=function(t){var e=new URLSearchParams;return e.append("cityId",t),r["a"].request({url:"getAreaList",data:e,method:"post"})},c=n("2goY"),u=n.n(c),d={data:function(){return{data:[]}},props:{value:{type:Array,default:function(){return[]}}},methods:{getProvince:function(){var t=this;return o().then(function(e){var n=[];e.info.map(function(t){var e={};e.value=t.id,e.label=t.name,e.loading=!1,e.children=[],e.state="1",n.push(e)}),t.data=u()(n)}).catch(function(t){console.log(t)})},getCity:function(t){return l(t).then(function(t){var e=[];return t.info.map(function(t){var n={};n.value=t.id,n.label=t.name,n.loading=!1,n.children=[],n.state="2",e.push(n)}),u()(e)}).catch(function(t){console.log(t)})},getArea:function(t){return s(t).then(function(t){var e=[];return t.info.map(function(t){var n={};n.value=t.id,n.label=t.name,n.state="3",e.push(n)}),u()(e)}).catch(function(t){console.log(t)})},loadData:function(t,e){"1"===t.state?this.getCity(t.value).then(function(n){t.loading=!0,t.children=n,t.loading=!1,e()}).catch(function(t){console.log(t)}):"2"===t.state&&this.getArea(t.value).then(function(n){t.loading=!0,t.children=n,t.loading=!1,e()}).catch(function(t){console.log(t)})},getSiteDate:function(t){this.$emit("input",t)}},mounted:function(){this.getProvince()},watch:{}},p=d,m=(n("UNsD"),n("KHd+")),f=Object(m["a"])(p,i,a,!1,null,null,null);e["a"]=f.exports},pEBE:function(t,e,n){},ukxX:function(t,e,n){"use strict";var i=n("pEBE"),a=n.n(i);a.a},"xSG+":function(t,e,n){"use strict";var i=n("NBpB"),a=n.n(i);a.a},xx8n:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("editableTables",{attrs:{columns:t.columns,pageTotal:t.pageTotal,selectShow:!1},on:{getPage:t.getPageNum},model:{value:t.dataList,callback:function(e){t.dataList=e},expression:"dataList"}},[n("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:t.addWorker}},[t._v("添加工人")]),t._v(" "),n("span",[t._v("姓名：")]),t._v(" "),n("Input",{staticStyle:{width:"150px"},attrs:{search:"",placeholder:"请填写姓名"},on:{"on-search":t.clickSearch}})],1)],1),t._v(" "),n("Modal",{attrs:{"mask-closable":!1,title:"添加项目",width:"600"},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[n("addWorker",{ref:"addWorker",attrs:{dataList:t.modificationList},on:{formState:t.formSuccess}}),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.addOk}},[t._v("提交")])],1)],1)],1)},a=[],r=n("yT7P"),o=n("ajWJ"),l=n("2Vua"),s=n("SYtW"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"password"},[n("Form",{ref:"formInline",attrs:{model:t.formInline,rules:t.ruleInline,inline:""}},[n("FormItem",{attrs:{prop:"workerName",label:"工人姓名"}},[n("Input",{staticStyle:{width:"250px"},attrs:{type:"text",placeholder:"工人姓名"},model:{value:t.formInline.workerName,callback:function(e){t.$set(t.formInline,"workerName",e)},expression:"formInline.workerName"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t._v(" "),n("FormItem",{attrs:{prop:"idCardNum",label:"身份证号"}},[n("Input",{staticStyle:{width:"250px"},attrs:{type:"text",placeholder:"身份证号"},model:{value:t.formInline.idCardNum,callback:function(e){t.$set(t.formInline,"idCardNum",e)},expression:"formInline.idCardNum"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t._v(" "),n("FormItem",{attrs:{prop:"liveAddr",label:"详细住址"}},[n("Input",{staticStyle:{width:"250px"},attrs:{type:"textarea",placeholder:"详细住址"},model:{value:t.formInline.liveAddr,callback:function(e){t.$set(t.formInline,"liveAddr",e)},expression:"formInline.liveAddr"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t._v(" "),n("FormItem",{attrs:{prop:"nativeAddr",label:"籍贯"}},[n("Input",{staticStyle:{width:"250px"},attrs:{type:"textarea",placeholder:"籍贯"},model:{value:t.formInline.nativeAddr,callback:function(e){t.$set(t.formInline,"nativeAddr",e)},expression:"formInline.nativeAddr"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t._v(" "),n("FormItem",{attrs:{label:"性别",prop:"sex"}},[n("Select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择性别"},model:{value:t.formInline.sex,callback:function(e){t.$set(t.formInline,"sex",e)},expression:"formInline.sex"}},[n("Option",{attrs:{value:"1"}},[t._v("男")]),t._v(" "),n("Option",{attrs:{value:"0"}},[t._v("女")])],1)],1),t._v(" "),n("FormItem",{attrs:{prop:"mobile",label:"手机号"}},[n("Input",{staticStyle:{width:"250px"},attrs:{type:"text",placeholder:"手机号"},model:{value:t.formInline.mobile,callback:function(e){t.$set(t.formInline,"mobile",e)},expression:"formInline.mobile"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t._v(" "),n("FormItem",{attrs:{prop:"idFront",label:" "}},[n("div",{staticStyle:{display:"block",clear:"both"}}),t._v(" "),n("qiniu-img",{staticStyle:{display:"block"},attrs:{typeCustom:"default"},on:{updateImg:t.updateImgidFront}},[t._v("\n        身份证正面\n      ")]),t._v(" "),n("clickImg",{attrs:{rePic:t.formInline.idFront},on:{closeClick:function(e){t.formInline.idFront.splice(0,1)}}})],1),t._v(" "),n("FormItem",{attrs:{prop:"idBack",label:" "}},[n("div",{staticStyle:{display:"block",clear:"both"}}),t._v(" "),n("qiniu-img",{staticStyle:{display:"block"},attrs:{typeCustom:"default"},on:{updateImg:t.updateImgidBack}},[t._v("\n        身份证反面\n      ")]),t._v(" "),n("clickImg",{attrs:{rePic:t.formInline.idBack},on:{closeClick:function(e){t.formInline.idBack.splice(0,1)}}})],1)],1)],1)},u=[],d=(n("f3/d"),n("VRzm"),n("p+ls")),p=n("ggpE"),m=n("Zt8a"),f=function(t){var e=new URLSearchParams;for(var n in t)t[n]&&e.append(n,t[n]);return m["a"].request({url:"worker/add",data:e,method:"post"})},h=function(t){var e=new URLSearchParams;for(var n in t)t[n]&&e.append(n,t[n]);return m["a"].request({url:"worker/edit",data:e,method:"post"})},g={components:{siteSelect:d["a"],qiniuImg:p["a"],clickImg:s["a"]},data:function(){var t=function(t,e,n){/^1[3|4|5|8][0-9]\d{4,8}$/.test(e)?n():n(new Error("请输入正确的手机号"))},e=function(t,e,n){/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)?n():n(new Error("请输入正确的身份证号"))};return{formInline:{workerName:"",workerNum:"",idCardNum:"",nativeAddr:"",sex:"",mobile:"",liveAddr:"",idFront:[],idBack:[]},ruleInline:{workerName:[{required:!0,message:"工人姓名不能为空",trigger:"blur"}],workerNum:[{required:!0,message:"工号不能为空",trigger:"blur"}],idCardNum:[{required:!0,message:"身份证号不能为空",trigger:"blur"},{validator:e,trigger:"blur"}],nativeAddr:[{required:!0,message:"籍贯不能为空",trigger:"blur"}],sex:[{required:!0,message:"性别不能为空",trigger:"change"}],mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],liveAddr:[{required:!0,message:"住址不能为空",trigger:"blur"}],idFront:[{required:!0,type:"array",min:1,message:"身份证正面不能为空",trigger:"blur"}],idBack:[{required:!0,type:"array",min:1,message:"身份证反面不能为空",trigger:"blur"}]},loading:!1}},props:{dLoginNameValue:{type:String,default:""},dataList:{default:{}}},methods:{handleSubmit:function(t,e){var n=this;return this.loading=!0,this.$refs[t].validate(function(t){t?(n.formInline.dLoginName=n.dLoginNameValue,"add"!==e?h(n.formInline).then(function(t){n.loading=!1,n.$emit("formState",!0)}).catch(function(t){n.loading=!1,n.$Message.error(t),n.$emit("formState",!1)}):(delete n.formInline.wid,delete n.formInline.createTime,delete n.formInline.updateTime,delete n.formInline.wstate,f(n.formInline).then(function(t){n.loading=!1,n.$emit("formState",!0)}).catch(function(t){n.loading=!1,n.$Message.error(t),n.$emit("formState",!1)}))):(n.loading=!1,n.$Message.error("请完善信息"))})},emptyForm:function(){this.$refs.formInline.resetFields()},updateImgidFront:function(t){this.formInline.idFront=[],this.formInline.idFront.push(t)},updateImgidBack:function(t){this.formInline.idBack=[],this.formInline.idBack.push(t)}},watch:{dataList:function(t){this.formInline=t,this.formInline.idBack=[t.idBack],this.formInline.idFront=[t.idFront],this.formInline.sex=t.sex+"",delete this.formInline._rowKey}}},v=g,k=(n("xSG+"),n("KHd+")),y=Object(k["a"])(v,c,u,!1,null,"d9cf3840",null),I=y.exports,b={components:{editableTables:o["a"],clickImg:s["a"],addWorker:I},data:function(){var t=this;this.$createElement;return{columns:[{title:"工人姓名",key:"workerName"},{title:"性别",key:"sex",render:function(t,e){var n=e.row.sex+""==="1"?"<span>男</span>":"<span>女</span>";return t("div",{domProps:{innerHTML:n}})}},{title:"身份证号",key:"idCardNum"},{title:"身份证正面",key:"idFront",width:120,render:function(t,e){return t("div",[t(s["a"],{props:{rePic:[e.row.idFront],cancelShow:!1}})])}},{title:"身份证反面",key:"idBack",width:120,render:function(t,e){return t("div",[t(s["a"],{props:{rePic:[e.row.idBack],cancelShow:!1}})])}},{title:"住址",key:"liveAddr"},{title:"操作",key:"action",align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.addModal=!0,t.modificationList=n.row,t.apiState=""}}},"修改")])}}],dataList:[],selectValue:{},pageNum:1,pageTotal:1,addModal:!1,loading:!1,modificationList:[],apiState:""}},methods:{getList:function(){var t=this;this.dataList=[],Object(l["b"])(this.pageNum,this.selectValue).then(function(e){if(t.dataList=[],"暂无数据"===e.info)return t.$Message.error(e.info),void(t.pageTotal=1);t.pageTotal=e.info.pageTotal,e.info.data.map(function(e){t.dataList.push(Object(r["a"])({},e))})}).catch(function(e){t.$Message.error(e)})},getPageNum:function(t){this.pageNum=t,this.getList()},restoration:function(){this.pageNum=1},addWorker:function(){this.apiState="add",this.$refs.addWorker.emptyForm(),this.addModal=!0},addOk:function(){var t=this;this.loading=!0,this.$refs.addWorker.handleSubmit("formInline",this.apiState),setTimeout(function(){t.loading=t.$refs.addWorker.loading},500)},formSuccess:function(t){t?(this.loading=!1,this.addModal=!1,this.getList()):this.loading=!1},clickSearch:function(t){this.selectValue.workerName=t,this.restoration(),this.getList()}},mounted:function(){this.getList()}},S=b,w=(n("iPs9"),Object(k["a"])(S,i,a,!1,null,null,null));e["default"]=w.exports}}]);