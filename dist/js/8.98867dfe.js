(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8,9],{"2goY":function(t,e,a){"use strict";function n(t){return Object.prototype.toString.call(t).slice(8,-1)}function i(t){let e=[];function a(t){if(t&&"Object"===n(t)){if(-1!==e.indexOf(t))return!0;for(var i in e.push(t),t)if(!0===t.hasOwnProperty(i)&&a(t[i]))return!0}return!1}return a(t)}const l=function(t){if(null===t||void 0===t)return;const e=n(t);if("Date"===e){let e=new Date;return e.setTime(t.getTime()),e}if("Object"===e){if(!0===i(t))return t;let e={};for(let a in t)e[a]=l(t[a]);return e}if("Array"===e){let e=[];for(var a=0;a<t.length;a++)e.push(l(t[a]));return e}return t};t.exports=l},"37KK":function(t,e,a){"use strict";var n=a("TAuh"),i=a.n(n);i.a},"5sOC":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("项目：")]),t._v(" "),a("Cascader",{staticStyle:{width:"250px",display:"inline-block"},attrs:{data:t.dataSelect,"load-data":t.loadData},on:{"on-change":t.changeCascader},model:{value:t.valueSelect,callback:function(e){t.valueSelect=e},expression:"valueSelect"}}),t._v(" "),a("RadioGroup",{on:{"on-change":t.changeRadioGroup},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},[a("Radio",{attrs:{disabled:0===t.valueSelect.length,label:"0"}},[t._v("未处理 ")]),t._v(" "),a("Radio",{attrs:{disabled:0===t.valueSelect.length,label:"1"}},[t._v("已处理")])],1),t._v(" "),a("Icon",{staticClass:"icon-delete-select",attrs:{type:"ios-close"},on:{click:function(e){t.changeRadioGroup("del")}}}),t._v(" "),a("div",[a("Table",{staticClass:"zdyClass",staticStyle:{"margin-top":"10px"},attrs:{"row-class-name":t.rowClassName,columns:t.columns,data:t.dataList}})],1),t._v(" "),a("Modal",{attrs:{width:"700",title:"拖欠薪资工人"},model:{value:t.modalDefaultShow,callback:function(e){t.modalDefaultShow=e},expression:"modalDefaultShow"}},[a("defauleShow",{attrs:{pId:t.valuePid,createTime:t.createTime,state:t.selectValue}})],1)],1)},i=[],l=(a("VRzm"),a("ajWJ")),o=a("QzNq"),c=a("Zt8a"),s=function(t,e){var a=new URLSearchParams;return a.append("pId",t),a.append("state",-1),e&&a.append("dealState",e),c["a"].request({url:"proBank/getPageList",data:a,method:"post"})},r=a("SYtW"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("editableTables",{attrs:{columns:t.columns,pageTotal:t.pageTotal,selectShow:!1},on:{getPage:t.getPageNum},model:{value:t.dataList,callback:function(e){t.dataList=e},expression:"dataList"}})],1)])},d=[],p=a("yT7P"),h=(a("KKXr"),function(t,e,a,n){var i=new URLSearchParams;return i.append("pageNum",t),i.append("pId",a),i.append("state",0),i.append("createTime",e),c["a"].request({url:"workerSalary/getPageListByOther",data:i,method:"post"})}),f=(a("vp6I"),{components:{editableTables:l["a"],clickImg:r["a"]},data:function(){var t=this;this.$createElement;return{columns:[{title:"工人姓名",key:"workerName"},{title:"性别",key:"sex",render:function(t,e){return t("div",[t("span",[e.row.sex+""==="0"?"女":"男"])])}},{title:"身份证号",key:"idCardNum"},{title:"电话",key:"mobile"},{title:"合同照片",key:"contract",width:195,render:function(e,a){return e("div",[e(r["a"],{props:{rePic:a.row.contract.split(","),cancelShow:!1},style:{marginRight:"5px"},on:{click:function(){t.show(a.index)}}},"View")])}}],dataList:[],selectValue:"",pageNum:1,pageTotal:1,jsCreateTime:""}},props:{pId:{default:""},createTime:{default:""}},methods:{getList:function(){var t=this;this.dataList=[],h(this.pageNum,this.jsCreateTime,this.pId,this.selectValue).then(function(e){if(t.dataList=[],"暂无数据"===e.info)return t.$Message.error(e.info),void(t.pageTotal=1);t.pageTotal=e.info.pageTotal,e.info.data.map(function(e){t.dataList.push(Object(p["a"])({},e,e.workerDomain))})}).catch(function(e){t.$Message.error(e)})},getPageNum:function(t){this.pageNum=t,this.getList()},restoration:function(){this.pageNum=1},changeRadioGroup:function(){this.pageNum=1,this.getList()}},watch:{createTime:function(t){""!==t&&(this.jsCreateTime=t.split("*")[0],this.getList())}}}),m=f,g=(a("C82m"),a("KHd+")),v=Object(g["a"])(m,u,d,!1,null,null,null),S=v.exports,w={components:{editableTables:l["a"],clickImg:r["a"],defauleShow:S},props:{},data:function(){var t=this;return{columns:[{title:"拖欠工资时间",key:"createTime"},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small",disabled:a.row.state+""==="1",loading:a.row.loading},style:{marginRight:"5px"},on:{click:function(){t.createTime=a.row.createTime+"*"+new Date,t.modalDefaultShow=!0}}},"查看拖欠人")])}}],dataList:[],selectValue:"",pageNum:1,pageTotal:1,valueSelect:[],dataSelect:[],pidValue:"",timeList:[],getTimeDealState:"",timePbId:"",valuePid:"",modalDefaultShow:!1,createTime:""}},methods:{getList:function(){var t=this;this.dataList=[],s(this.valuePid,this.selectValue).then(function(e){if(t.dataList=[],"暂无数据"===e.info)return t.$Message.error(e.info),void(t.pageTotal=1);t.pageTotal=e.info.pageTotal,e.info.forEach(function(e){t.dataList.push({createTime:e.createTime.substring(0,7),dealState:e.dealState+""})})}).catch(function(e){t.$Message.error(e)})},getPageNum:function(t){this.pageNum=t,this.getList()},restoration:function(){this.accountTitle="",this.accountJob="",this.pageNum=1},rowClassName:function(t,e){return"0"===t.dealState?"demo-table-error-row":"demo-table-success-row"},changeRadioGroup:function(t){this.selectValue="del"===t?"":t,this.getList()},inCascading:function(){var t=this;Object(o["a"])(2).then(function(e){t.dataSelect=[],e.info.forEach(function(e){e.haveProState+""==="1"&&t.dataSelect.push({value:e.did+"",label:e.deptName,loading:!1,state:1,children:[]})}),t.indYnamicState()}).catch(function(t){console.log(t)})},indYnamicState:function(){var t=this;Object(o["b"])(this.dataSelect[0].value).then(function(e){return t.dataSelect[0].children=[],e.info.forEach(function(e){t.dataSelect[0].children.push({value:e.pid+"",label:e.projectName})}),t.pidValue=e.info[0].pid,e.info[0].pid}).then(function(e){t.getTimeList(e)}).catch(function(t){console.log(t)})},loadData:function(t,e){var a=this;t.loading=!0,t.state+""==="1"&&Object(o["b"])(t.value).then(function(n){if("暂无数据"===n.info)return a.$Message.error("暂无数据"),t.loading=!1,void e();t.children=[],n.info.forEach(function(e,a){t.children[a]={value:e.pid+"",label:e.projectName}}),t.loading=!1,e()}).catch(function(e){console.log(e),t.loading=!1})},getTimeList:function(t){var e=this;t&&s(t,this.getTimeDealState).then(function(t){if("暂无数据"===t.info)return e.$Message.error("暂无数据"),void(e.valueSelect=[e.dataSelect[0].value+"",e.dataSelect[0].children[0].value+""]);e.dataSelect[0].children[0].children=[],t.info.forEach(function(t,e){}),e.valueSelect=[e.dataSelect[0].value+"",e.dataSelect[0].children[0].value+""],e.valuePid=e.dataSelect[0].children[0].value,e.getList()}).catch(function(t){console.log(t)})},changeCascader:function(t){console.log(t),this.pidValue=t[0],this.valuePid=t[1],this.getList()}},mounted:function(){this.inCascading()}},b=w,y=(a("OdzC"),Object(g["a"])(b,n,i,!1,null,null,null));e["default"]=y.exports},C82m:function(t,e,a){"use strict";var n=a("vXNV"),i=a.n(n);i.a},E9X9:function(t,e,a){"use strict";var n=a("lsdc"),i=a.n(n);i.a},OdzC:function(t,e,a){"use strict";var n=a("YWq9"),i=a.n(n);i.a},QzNq:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return l}),a.d(e,"e",function(){return o}),a.d(e,"d",function(){return c}),a.d(e,"c",function(){return s});a("VRzm");var n=a("Zt8a"),i=function(t){var e=new URLSearchParams;return e.append("pageSize",-1),e.append("did",t),n["a"].request({url:"project/getPageList",data:e,method:"post"})},l=function(t){var e=new URLSearchParams;return e.append("pageSize",-1),t&&e.append("type",t),n["a"].request({url:"dept/getPageDepts",data:e,method:"post"})},o=function(t,e,a,i){var l=new URLSearchParams;for(var o in e)l.append(o,e[o]);return l.append("pageNum",t),i&&l.append("pbId",i),n["a"].request({url:"workerSalary/getPageList",data:l,method:"post"})},c=function(t){var e=new URLSearchParams;return e.append("wsId",t),e.append("state",1),n["a"].request({url:"workerSalary/edit",data:e,method:"post"})},s=function(t,e,a){var i=new URLSearchParams;return i.append("pId",t),e&&i.append("state",e),a&&i.append("dealState",a),n["a"].request({url:"proBank/getPageList",data:i,method:"post"})}},SYtW:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.rePic,function(e,n){return a("div",{staticClass:"imgClass"},[a("img",{staticClass:"imgClass-img",attrs:{src:e},on:{click:function(a){t.clickImg(e)}}}),t._v(" "),t.cancelShow?a("span",{staticClass:"imgClass-close",on:{click:function(e){t.closeClick(n)}}},[t._v("x")]):t._e()])}),t._v(" "),a("Modal",{attrs:{title:"图片"},on:{"on-cancel":t.cancel},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("img",{staticStyle:{width:"100%",height:"350px","list-style":"none",padding:"0",margin:"5px 0"},attrs:{src:t.imgUrl}})])],2)},i=[],l=(a("jbew"),{data:function(){return{imgUrl:"",modal:!1}},props:{rePic:{type:Array,default:function(){return[]}},cancelShow:{type:Boolean,default:!0}},methods:{clickImg:function(t){this.modal=!0,this.imgUrl=t},cancel:function(){},closeClick:function(t){this.$emit("closeClick",t)}}}),o=l,c=(a("ukxX"),a("KHd+")),s=Object(c["a"])(o,n,i,!1,null,null,null),r=s.exports;e["a"]=r},TAuh:function(t,e,a){},YWq9:function(t,e,a){},ajWJ:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.stateSelect?a("div",{staticStyle:{display:"inline-block","margin-bottom":"10px","vertical-align":"top"}},[t.selectShow?a("div",{staticStyle:{display:"inline-block"}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.selectValueInput,callback:function(e){t.selectValueInput=e},expression:"selectValueInput"}},[a("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",clearable:""},on:{"on-clear":t.clickEmpty,"on-change":t.onValue},slot:"prepend",model:{value:t.modelSelect,callback:function(e){t.modelSelect=e},expression:"modelSelect"}},t._l(t.selectOption,function(e){return a("Option",{key:e.value,attrs:{disabled:"-1"===e.value,value:e.value}},[t._v(t._s(e.label))])})),t._v(" "),a("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:t.update},slot:"append"})],1)],1):t._e(),t._v(" "),a("div",{staticStyle:{display:"inline-block"}},[t._t("customSelect")],2),t._v(" "),a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[t._t("default")],2)]):t._e(),t._v(" "),a("Table",{ref:"selection",attrs:{stripe:"",columns:t.processingLolumns,data:t.value,loading:t.progress},on:{"on-selection-change":t.selectionChange}}),t._v(" "),t._t("statistics"),t._v(" "),a("Page",{staticStyle:{"margin-top":"20px"},attrs:{total:10*t.pageTotal,"show-elevator":""},on:{"on-change":t.emitPage,"on-page-size-change":t.emitPage}})],2)},i=[],l=a("2goY"),o=a.n(l),c={data:function(){return{editableId:"",processingLolumns:[],inputValue:"",selectValueInput:"",modelSelect:"",progress:!1}},props:{columns:{type:Array,default:function(){return[]}},width:{default:"100%"},value:{type:Array,default:function(){return[]}},selectOption:{type:Array,default:function(){return[]}},stateSelect:{type:Boolean,default:!0},pageTotal:{default:"1"},selectShow:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!1},selectSatae:{type:String,default:""}},methods:{handleClick:function(t){t.row;var e=t.column,a=t.index;if("".concat(e.key,"_").concat(a)===this.editableId){var n=o()(this.value);n[a][e.key]=this.inputValue,this.inputValue&&this.$emit("input",n),this.editableId="",this.inputValue=""}else this.editableId="".concat(e.key,"_").concat(a)},handleInput:function(t){this.inputValue=t},compileInit:function(){var t=this,e=(this.$createElement,this.columns.map(function(e){return e.editable&&!e.render?(e.render=function(e,a){var n=a.row,i=a.column,l=a.index,o=t.editableId==="".concat(i.key,"_").concat(l);return e("div",[o?e("i-input",{on:{input:t.handleInput},attrs:{value:n[i.key]},style:"width: 50px"}):e("span",[n[i.key]]),e("i-button",{on:{click:t.handleClick.bind(t,{row:n,column:i,index:l})}},[o?"保存":"编辑"])])},e):e}));this.processingLolumns=e},clickEmpty:function(){var t={selectValueInput:"",modelSelect:""};this.$emit("filtrateClick",t)},selectEmpty:function(){this.selectValueInput="",this.modelSelect=""},onValue:function(t){this.selectValueInput="",this.$emit("onChange",t)},update:function(t){var e={};e.selectValueInput=this.selectValueInput?this.selectValueInput:"",e.modelSelect=this.modelSelect?this.modelSelect:"",this.modelSelect?this.$emit("filtrateClick",e):this.$Message.error("请输入要搜索的字段")},emitPage:function(t){this.$emit("getPage",t)},selectionChange:function(t){this.$emit("selectionChange",t)}},mounted:function(){this.compileInit()},watch:{isLoading:function(t){this.progress=t},selectSatae:function(){this.selectEmpty()}}},s=c,r=(a("E9X9"),a("KHd+")),u=Object(r["a"])(s,n,i,!1,null,null,null);e["a"]=u.exports},jbew:function(t,e,a){},lsdc:function(t,e,a){},pEBE:function(t,e,a){},ukxX:function(t,e,a){"use strict";var n=a("pEBE"),i=a.n(n);i.a},vXNV:function(t,e,a){},vp6I:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("editableTables",{attrs:{columns:t.columns,pageTotal:t.pageTotal,selectShow:!1},on:{getPage:t.getPageNum},model:{value:t.dataList,callback:function(e){t.dataList=e},expression:"dataList"}},[a("Input",{attrs:{search:"",placeholder:"请输入单位名称"},on:{"on-search":t.clickSearch}})],1)],1)])},i=[],l=(a("KKXr"),a("ajWJ")),o=a("Zt8a"),c=function(t,e){var a=new URLSearchParams;return a.append("pageNum",t),e.deptName&&a.append("deptName",e.deptName),o["a"].request({url:"dept/getPageDepts",data:a,method:"post"})},s=function(t,e){var a=new URLSearchParams;return a.append("did",t),a.append("dstate",e),o["a"].request({url:"dept/editState",data:a,method:"post"})},r=a("SYtW"),u={components:{editableTables:l["a"],clickImg:r["a"]},data:function(){var t=this;this.$createElement;return{columns:[{title:"单位名称",key:"deptName"},{title:"单位电话",key:"deptPhone"},{title:"单位编号",key:"deptNum"},{title:"营业执照",key:"allowPic",width:250,render:function(t,e){return t("div",[t(r["a"],{props:{rePic:e.row.allowPic.split(","),cancelShow:!1}})])}},{title:"单位地址",key:"deptAddr"},{title:"审核状态",key:"dstate",render:function(e,a){var n="";switch(t.dataList[a.index].dstate){case 0:n='<span style="color: #3272d9">未审核</span>';break;case 1:n='<span style="color: #24b656">通过</span>';break;case 2:n='<span style="color: #d96631">不通过</span>';break}return e("div",{domProps:{innerHTML:n}})}},{title:"操作",key:"action",align:"center",render:function(e,a){var n=0!==a.row.dstate;return e("div",{class:"custom"},[e("dropdown",{on:{"on-click":t.clickDropdown},attrs:{disabled:n}},[e("i-button",{attrs:{type:"primary"}},["审核",e("icon",{attrs:{type:"ios-arrow-down"}})]),e("dropdownMenu",{slot:"list"},[e("dropdownItem",{attrs:{name:"1:".concat(a.row.did,":").concat(a.index),disabled:n}},[e("div",["通过"])]),e("dropdownItem",{attrs:{name:"2:".concat(a.row.did,":").concat(a.index),disabled:n}},[e("div",["不通过"])])])])])}}],dataList:[],selectValue:{},pageNum:1,pageTotal:1}},methods:{getList:function(){var t=this;this.dataList=[],c(this.pageNum,this.selectValue).then(function(e){if(t.dataList=[],"暂无数据"===e.info)return t.$Message.error(e.info),void(t.pageTotal=1);t.pageTotal=e.info.pageTotal,e.info.data.map(function(e){var a=e.createTime,n=e.deptAddr,i=e.deptName,l=e.deptNum,o=e.deptPhone,c=e.allowPic,s=e.did,r=e.dstate;t.dataList.push({createTime:a,deptAddr:n,deptName:i,deptNum:l,deptPhone:o,allowPic:c,did:s,dstate:r})})}).catch(function(e){t.$Message.error(e)})},getPageNum:function(t){this.pageNum=t,this.getList()},restoration:function(){this.pageNum=1},clickDropdown:function(t){var e=this;if(0===this.dataList[t.split(":")[2]].dstate){var a="1"===t.split(":")[0],n=t.split(":")[1],i=a?"通过":"不通过",l='<p style="color: #3272d9;">请确定操作</p>';this.$Modal.confirm({title:i,content:l,onOk:function(){s(n,t.split(":")[0]).then(function(t){e.getList()}).catch(function(t){console.log(t)})}})}},clickSearch:function(t){this.selectValue.deptName=t,this.restoration(),this.getList()}},mounted:function(){this.getList()}},d=u,p=(a("37KK"),a("KHd+")),h=Object(p["a"])(d,n,i,!1,null,null,null);e["default"]=h.exports}}]);