(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"/trQ":function(t,e,a){},TR1x:function(t,e,a){"use strict";var n=a("/trQ"),o=a.n(n);o.a},WnSV:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{directives:[{name:"show",rawName:"v-show",value:!t.showState,expression:"!showState"}],staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:t.addProfessionState}},[t._v("添加工种")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showState,expression:"showState"}]},[a("Input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{disabled:t.disabled,placeholder:"请输入名称"},model:{value:t.profession,callback:function(e){t.profession=e},expression:"profession"}}),t._v(" "),a("Button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",loading:t.loading},on:{click:t.addPreserve}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-bottom":"10px"},on:{click:t.cancel}},[t._v("取消")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showState,expression:"!showState"}]},[a("Input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{search:"",disabled:t.disabled,placeholder:"请输入名称"},on:{"on-search":t.selectData},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1),t._v(" "),a("Table",{attrs:{columns:t.columns,data:t.data}}),t._v(" "),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{total:10*t.pageTotal},on:{"on-change":t.pageChange}})],1)},o=[],i=a("Zt8a"),s=function(t,e){var a=new URLSearchParams;return a.append("pageNum",t),e&&a.append("profession",e),i["a"].request({url:"type/getPageList",data:a,method:"post"})},r=function(t){var e=new URLSearchParams;return e.append("state",0),e.append("tId",t),i["a"].request({url:"type/edit",data:e,method:"post"})},l=function(t){var e=new URLSearchParams;return e.append("profession",t),i["a"].request({url:"type/add",data:e,method:"post"})},c={data:function(){var t=this;return{columns:[{title:"工种名称",key:"name"},{title:"操作",key:"action",width:150,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"error",size:"small",loading:t.data[a.index].loading},style:{marginRight:"5px"},on:{click:function(){t.deleteClick(a.row.tid,a.index)}}},"删除")])}}],data:[],modalAdd:!1,showState:!1,inputValue:"",loading:!1,disabled:!1,selectValue:"",profession:"",pageTotal:1,pageNum:1}},methods:{getList:function(){var t=this;this.data=[],s(this.pageNum,this.selectValue).then(function(e){t.data=[],"暂无数据"!==e.info?(t.pageTotal=e.info.pageTotal,e.info.data.forEach(function(e){t.data.push({name:e.profession,tid:e.tid,loading:!1})})):t.$Message.error("暂无数据")}).catch(function(t){console.log(t)})},addProfessionState:function(){this.profession="",this.showState=!0},addPreserve:function(){var t=this;this.loading=!0,this.disabled=!0,l(this.profession).then(function(e){t.loading=!1,t.showState=!1,t.disabled=!1,t.$Message.success("成功"),t.getList()}).catch(function(t){console.log(t)})},cancel:function(){this.showState="",this.inputValue=""},deleteClick:function(t,e){var a=this;this.data[e].loading=!0,r(t).then(function(t){a.data[e].loading=!1,a.getList()}).catch(function(t){console.log(t)})},selectData:function(t){this.selectValue=t,this.getList()},pageChange:function(t){this.pageNum=t,this.getList()}},mounted:function(){this.getList()}},d=c,u=(a("TR1x"),a("KHd+")),p=Object(u["a"])(d,n,o,!1,null,null,null);e["default"]=p.exports}}]);