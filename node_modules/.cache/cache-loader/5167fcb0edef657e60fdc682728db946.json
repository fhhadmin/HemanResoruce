{"remainingRequest":"D:\\Vue_WorkSpace\\lzdx\\hr-Admin\\HemanResoruce\\node_modules\\babel-loader\\lib\\index.js!D:\\Vue_WorkSpace\\lzdx\\hr-Admin\\HemanResoruce\\src\\store\\module\\user.js","dependencies":[{"path":"D:\\Vue_WorkSpace\\lzdx\\hr-Admin\\HemanResoruce\\src\\store\\module\\user.js","mtime":1552526618953},{"path":"D:\\Vue_WorkSpace\\lzdx\\hr-Admin\\HemanResoruce\\.babelrc","mtime":1551258011000},{"path":"D:\\Vue_WorkSpace\\lzdx\\hr-Admin\\HemanResoruce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1551930361523},{"path":"D:\\Vue_WorkSpace\\lzdx\\hr-Admin\\HemanResoruce\\node_modules\\babel-loader\\lib\\index.js","mtime":1526583314000}],"contextDependencies":[],"result":["// vuex User状态\nimport { login, logout, getUserInfo as _getUserInfo } from '@/api/user';\nimport { setToken as _setToken, getToken } from '@/libs/util';\nexport default {\n  state: {\n    userName: '',\n    userId: '',\n    avatorImgPath: '',\n    token: getToken(),\n    access: [],\n    shopName: '',\n    homeName: ''\n  },\n  mutations: {\n    setAvator: function setAvator(state, avatorPath) {\n      state.avatorImgPath = avatorPath;\n    },\n    setUserId: function setUserId(state, id) {\n      state.userId = id;\n    },\n    setUserName: function setUserName(state, name) {\n      state.userName = name;\n    },\n    setAccess: function setAccess(state, access) {\n      state.access = access;\n    },\n    setToken: function setToken(state, token) {\n      state.token = token;\n\n      _setToken(token);\n    },\n    setShopName: function setShopName(state, shopName) {\n      state.shopName = shopName;\n    },\n    homeName: function homeName(state, _homeName) {\n      state.homeName = _homeName;\n    }\n  },\n  actions: {\n    // 登录\n    handleLogin: function handleLogin(_ref, _ref2) {\n      var commit = _ref.commit;\n      var userName = _ref2.userName,\n          password = _ref2.password;\n      // userName = userName.trim()\n      // 这里用Promise做判断\n      return new Promise(function (resolve, reject) {\n        login({\n          userName: userName,\n          password: password\n        }).then(function (res) {\n          var data = res;\n\n          if (data.status === '0') {\n            reject(data.info);\n            return;\n          } // 存入token\n\n\n          commit('setToken', data.info);\n          resolve();\n        }).catch(function (err) {\n          reject(err);\n        });\n      });\n    },\n    // 退出登录\n    handleLogOut: function handleLogOut(_ref3) {\n      var state = _ref3.state,\n          commit = _ref3.commit;\n      return new Promise(function (resolve, reject) {\n        logout(state.token).then(function () {\n          commit('setToken', '');\n          commit('setAccess', []);\n          resolve();\n        }).catch(function (err) {\n          reject(err);\n        });\n      });\n    },\n    // 获取用户相关信息\n    getUserInfo: function getUserInfo(_ref4) {\n      var state = _ref4.state,\n          commit = _ref4.commit;\n      return new Promise(function (resolve, reject) {\n        _getUserInfo(state.token).then(function (res) {\n          // const data = res.info\n          // 图片\n          commit('setAvator', 'http://qiniu.dnwapp.com/1544149701527.png'); // 名称\n          // commit('setUserName', data.accountTitle)\n          // id\n          // commit('setUserId', data.accountId)\n          // 权限\n\n          commit('setAccess', res.msg);\n          commit('setShopName', res.msg.accountInfo); // commit('homeName', res.msg.initialPage)\n\n          commit('setToken', res.msg);\n          resolve(res.msg);\n        }).catch(function (err) {\n          reject(err.msg);\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["src\\store\\module\\user.js"],"names":["login","logout","getUserInfo","setToken","getToken","state","userName","userId","avatorImgPath","token","access","shopName","homeName","mutations","setAvator","avatorPath","setUserId","id","setUserName","name","setAccess","setShopName","actions","handleLogin","commit","password","Promise","resolve","reject","then","data","res","status","info","catch","err","handleLogOut","msg","accountInfo"],"mappings":"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","sourceRoot":"D:\\Vue_WorkSpace\\lzdx\\hr-Admin\\HemanResoruce","sourcesContent":["// vuex User状态\nimport {\n  login,\n  logout,\n  getUserInfo\n} from '@/api/user'\nimport { setToken, getToken } from '@/libs/util'\n\nexport default {\n  state: {\n    userName: '',\n    userId: '',\n    avatorImgPath: '',\n    token: getToken(),\n    access: [],\n    shopName: '',\n    homeName: ''\n  },\n  mutations: {\n    setAvator (state, avatorPath) {\n      state.avatorImgPath = avatorPath\n    },\n    setUserId (state, id) {\n      state.userId = id\n    },\n    setUserName (state, name) {\n      state.userName = name\n    },\n    setAccess (state, access) {\n      state.access = access\n    },\n    setToken (state, token) {\n      state.token = token\n      setToken(token)\n    },\n    setShopName (state, shopName) {\n      state.shopName = shopName\n    },\n    homeName (state, homeName) {\n      state.homeName = homeName\n    }\n  },\n  actions: {\n    // 登录\n    handleLogin ({ commit }, {userName, password}) {\n      // userName = userName.trim()\n      // 这里用Promise做判断\n      return new Promise((resolve, reject) => {\n        login({userName, password}).then(res => {\n          const data = res\n          if (data.status === '0') {\n            reject(data.info)\n            return\n          }\n          // 存入token\n          commit('setToken', data.info)\n          resolve()\n        }).catch(err => {\n          reject(err)\n        })\n      })\n    },\n    // 退出登录\n    handleLogOut ({ state, commit }) {\n      return new Promise((resolve, reject) => {\n        logout(state.token).then(() => {\n          commit('setToken', '')\n          commit('setAccess', [])\n          resolve()\n        }).catch(err => {\n          reject(err)\n        })\n      })\n    },\n    // 获取用户相关信息\n    getUserInfo ({ state, commit }) {\n      return new Promise((resolve, reject) => {\n        getUserInfo(state.token).then(res => {\n          // const data = res.info\n          // 图片\n          commit('setAvator', 'http://qiniu.dnwapp.com/1544149701527.png')\n          // 名称\n          // commit('setUserName', data.accountTitle)\n          // id\n          // commit('setUserId', data.accountId)\n          // 权限\n          commit('setAccess', res.msg)\n          commit('setShopName', res.msg.accountInfo)\n          // commit('homeName', res.msg.initialPage)\n          commit('setToken', res.msg)\n          resolve(res.msg)\n        }).catch(err => {\n          reject(err.msg)\n        })\n      })\n    }\n  }\n}\n"]}]}