{"remainingRequest":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\babel-loader\\lib\\index.js!D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\src\\view\\login\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\src\\view\\login\\login.vue","mtime":1552471215132},{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\.babelrc","mtime":1551258011000},{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1551930361523},{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\babel-loader\\lib\\index.js","mtime":1526583314000},{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\vue-loader\\lib\\index.js","mtime":1526010763000}],"contextDependencies":[],"result":["import _objectSpread from \"D:\\\\Vue_WorkSpace\\\\hr-Admin\\\\HemanResoruce\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport loginForm from '_c/login-form';\nimport { setToken } from '@/libs/util';\nimport { mapActions } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      carValue: 0\n    };\n  },\n  components: {\n    loginForm: loginForm\n  },\n  methods: _objectSpread({}, mapActions(['handleLogin', 'getUserInfo']), {\n    handleSubmit: function handleSubmit(_ref) {\n      var _this = this;\n\n      var userName = _ref.userName,\n          password = _ref.password;\n      this.handleLogin({\n        userName: userName,\n        password: password\n      }).then(function (res) {\n        _this.getUserInfo().then(function (res) {\n          _this.$Message.success('欢迎登陆');\n\n          _this.$router.push({\n            name: 'home'\n          });\n        });\n      }).catch(function (err) {\n        _this.$Message.error(err);\n      });\n    },\n    // 工地入住\n    checkIn: function checkIn() {\n      this.$router.push({\n        name: 'checkIn'\n      });\n    },\n    // 忘记密码\n    passwordForget: function passwordForget() {\n      this.$router.push({\n        name: 'passwordForget'\n      });\n    }\n  }),\n  mounted: function mounted() {\n    this.$Notice.destroy();\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;wBAEA;;gBAEA,AACA;AAFA;AAGA;;AAEA,AACA;AAFA;AAGA,wCACA,CACA,eACA,AACA;;AACA;;;;;;;6BACA;gDACA;iCACA;;;kBAEA,AACA;AAFA;AAGA;8BACA;6BACA;AACA;AACA;AACA;gCACA;;cAEA,AACA;AAFA;AAGA;AACA;8CACA;;cAEA,AACA;AAFA;AAGA,AACA;;8BACA;iBACA;AACA;AAzCA","file":"login.vue","sourceRoot":"src\\view\\login","sourcesContent":["  <style lang=\"less\">\n    @import './login.less';\n  </style>\n  <template>\n    <div class=\"login\" @keydown.enter=\"handleLogin\">\n      <div class=\"login-con\">\n        <Card icon=\"log-in\" title=\"欢迎登录\" :bordered=\"false\">\n          <div class=\"form-con\">\n            <login-form @on-success-valid=\"handleSubmit\"></login-form>\n            <div class=\"register\">\n              <!-- <div class=\"register-cut\"> -->\n                <!--<span @click=\"checkIn\" style=\"color: #eb6c27\">工地入住</span>-->\n                <!--| <span @click=\"passwordForget\">忘记密码?</span>-->\n              <!--</div>-->\n            </div>\n            <p class=\"login-tip\">请输入户名和密码</p>\n          </div>\n        </Card>\n      </div>\n    </div>\n  </template>\n<script>\nimport loginForm from '_c/login-form'\nimport { setToken } from '@/libs/util'\nimport { mapActions } from 'vuex'\nexport default {\n  data () {\n    return {\n      carValue: 0\n    }\n  },\n  components: {\n    loginForm\n  },\n  methods: {\n    ...mapActions([\n      'handleLogin',\n      'getUserInfo'\n    ]),\n    handleSubmit ({ userName, password }) {\n      this.handleLogin({ userName, password }).then(res => {\n        this.getUserInfo().then(res => {\n          this.$Message.success('欢迎登陆')\n          this.$router.push({\n            name: 'home'\n          })\n        })\n      }).catch(err => {\n        this.$Message.error(err)\n      })\n    },\n    // 工地入住\n    checkIn () {\n      this.$router.push({\n        name: 'checkIn'\n      })\n    },\n    // 忘记密码\n    passwordForget () {\n      this.$router.push({\n        name: 'passwordForget'\n      })\n    }\n  },\n  mounted () {\n    this.$Notice.destroy()\n  }\n}\n</script>\n\n  <style>\n\n  </style>\n"]}]}