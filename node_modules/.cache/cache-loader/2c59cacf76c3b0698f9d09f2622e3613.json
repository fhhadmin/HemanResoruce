{"remainingRequest":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\babel-loader\\lib\\index.js!D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\src\\components\\siteSelect\\siteSelect.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\src\\components\\siteSelect\\siteSelect.vue","mtime":1551411055203},{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\.babelrc","mtime":1551258011000},{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1551930361523},{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\babel-loader\\lib\\index.js","mtime":1526583314000},{"path":"D:\\Vue_WorkSpace\\hr-Admin\\HemanResoruce\\node_modules\\vue-loader\\lib\\index.js","mtime":1526010763000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\nimport { getProvinceList, getCityList, getAreaList } from '@/api/components/siteSelect.js';\nimport clonedeep from 'clonedeep';\nexport default {\n  data: function data() {\n    return {\n      data: []\n    };\n  },\n  props: {\n    value: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  methods: {\n    // 初始化得到省\n    getProvince: function getProvince() {\n      var _this = this;\n\n      return getProvinceList().then(function (res) {\n        var data = [];\n        res.info.map(function (item) {\n          var value = {};\n          value.value = item.id;\n          value.label = item.name;\n          value.loading = false;\n          value.children = [];\n          value.state = '1';\n          data.push(value);\n        });\n        _this.data = clonedeep(data);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    getCity: function getCity(id) {\n      return getCityList(id).then(function (res) {\n        var data = [];\n        res.info.map(function (item) {\n          var value = {};\n          value.value = item.id;\n          value.label = item.name;\n          value.loading = false;\n          value.children = [];\n          value.state = '2';\n          data.push(value);\n        });\n        return clonedeep(data);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    getArea: function getArea(id) {\n      return getAreaList(id).then(function (res) {\n        var data = [];\n        res.info.map(function (item) {\n          var value = {};\n          value.value = item.id;\n          value.label = item.name;\n          value.state = '3';\n          data.push(value);\n        });\n        return clonedeep(data);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    loadData: function loadData(item, callback) {\n      // 省\n      if (item.state === '1') {\n        this.getCity(item.value).then(function (res) {\n          item.loading = true;\n          item.children = res;\n          item.loading = false;\n          callback();\n        }).catch(function (err) {\n          console.log(err);\n        });\n      } else if (item.state === '2') {\n        this.getArea(item.value).then(function (res) {\n          item.loading = true;\n          item.children = res;\n          item.loading = false;\n          callback();\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n    },\n    getSiteDate: function getSiteDate(e) {\n      this.$emit('input', e);\n    }\n  },\n  mounted: function mounted() {\n    this.getProvince();\n  },\n  watch: {}\n};",{"version":3,"sources":["siteSelect.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;wBAEA;;YAEA,AACA;AAFA;AAGA;;;YAGA;;eACA,AACA,AACA;;AAJA;AADA;;AAOA;;AACA;;mDACA;mBACA;qCACA;sBACA;6BACA;6BACA;0BACA;2BACA;wBACA;oBACA;AACA;+BACA;8BACA;oBACA;AACA;AACA;kCACA;iDACA;mBACA;qCACA;sBACA;6BACA;6BACA;0BACA;2BACA;wBACA;oBACA;AACA;yBACA;8BACA;oBACA;AACA;AACA;kCACA;iDACA;mBACA;qCACA;sBACA;6BACA;6BACA;wBACA;oBACA;AACA;yBACA;8BACA;oBACA;AACA;AACA;gDACA;AACA;8BACA;qDACA;yBACA;0BACA;yBACA;AACA;gCACA;sBACA;AACA;qCACA;qDACA;yBACA;0BACA;yBACA;AACA;gCACA;sBACA;AACA;AACA;AACA;yCACA;0BACA;AACA,AACA;AA5EA;8BA6EA;SACA;AACA;SAEA,AACA;AA9FA","file":"siteSelect.vue","sourceRoot":"src\\components\\siteSelect","sourcesContent":["<!-- 级联动 -->\r\n<template>\r\n    <Cascader @on-change='getSiteDate' :data=\"data\" v-model=\"value\" :load-data=\"loadData\" style=\"width: 200px;display: inline-block; z-index: 9999\"></Cascader>\r\n</template>\r\n<script>\r\nimport { getProvinceList, getCityList, getAreaList } from '@/api/components/siteSelect.js'\r\nimport clonedeep from 'clonedeep'\r\nexport default {\r\n  data () {\r\n    return {\r\n      data: []\r\n    }\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default: () => ([])\r\n    }\r\n  },\r\n  methods: {\r\n    // 初始化得到省\r\n    getProvince () {\r\n      return getProvinceList().then(res => {\r\n        let data = []\r\n        res.info.map(item => {\r\n          let value = {}\r\n          value.value = item.id\r\n          value.label = item.name\r\n          value.loading = false\r\n          value.children = []\r\n          value.state = '1'\r\n          data.push(value)\r\n        })\r\n        this.data = clonedeep(data)\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    getCity (id) {\r\n      return getCityList(id).then(res => {\r\n        let data = []\r\n        res.info.map(item => {\r\n          let value = {}\r\n          value.value = item.id\r\n          value.label = item.name\r\n          value.loading = false\r\n          value.children = []\r\n          value.state = '2'\r\n          data.push(value)\r\n        })\r\n        return clonedeep(data)\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    getArea (id) {\r\n      return getAreaList(id).then(res => {\r\n        let data = []\r\n        res.info.map(item => {\r\n          let value = {}\r\n          value.value = item.id\r\n          value.label = item.name\r\n          value.state = '3'\r\n          data.push(value)\r\n        })\r\n        return clonedeep(data)\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    loadData (item, callback) {\r\n      // 省\r\n      if (item.state === '1') {\r\n        this.getCity(item.value).then(res => {\r\n          item.loading = true\r\n          item.children = res\r\n          item.loading = false\r\n          callback()\r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n      } else if (item.state === '2') {\r\n        this.getArea(item.value).then(res => {\r\n          item.loading = true\r\n          item.children = res\r\n          item.loading = false\r\n          callback()\r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n      }\r\n    },\r\n    getSiteDate (e) {\r\n      this.$emit('input', e)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProvince()\r\n  },\r\n  watch: {\r\n\r\n  }\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n"]}]}